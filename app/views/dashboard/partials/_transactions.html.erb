<!-- Card to show all the transactions -->

<%= link_to 'Criar Transferência', new_withdraw_transactions_path, class: 'btn btn-outline-success 
my-2 my-sm-0', style: "float: right;", data: { modal: true } %>

<h1>Extrato de Transferências</h1>
<div class="card">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Data</th>
        <th scope="col">Descrição</th>
        <th scope="col">Valor</th>
        <th scope="col">Saldo</th>
      </tr>
    </thead>
    <tbody>
      <% @transactions.each do |transaction| %>
      <% if transaction.kind == "withdraw" %>
        <tr class="table-danger">
          <td scope="row"><%= transaction.created_at.strftime("%d/%m/%Y - %T") %></td>
          <td>
            Transferência para <%= transaction.name %> no banco <%= transaction.bank %>,
            agência: <%= transaction.agency %>, conta: <%= transaction.account %> e CPF: <%=
          transaction.cpf %>
          </td>
          <td>
            <span class="badge badge-danger">- <%= number_to_currency_br(transaction.value) %></span>
          </td>
          <td>
            <span class="badge badge-primary"><%= number_to_currency_br(transaction.total_when_withdraw) %></span>
          </td>
        </tr>
        <% else %>
        <tr class="table-success">
          <td scope="row"><%= transaction.created_at.strftime("%d/%m/%Y - %T") %></td>
          <td>
            Depósito recebido.
          </td>
          <td>
            <span class="badge badge-success">+ <%= number_to_currency_br(transaction.value) %></span>
          </td>
          <td>
            <span class="badge badge-primary"><%= number_to_currency_br(transaction.total_when_deposit) %></span>
          </td>
        </tr>
      <% end %>
      <% end %>
    </tbody>
  </table>
</div>

<br>


<%= link_to 'Criar Depósito', new_deposit_transactions_path, class: 'btn btn-outline-success 
my-2 my-sm-0', style: "float: right;", data: { modal: true } %>
